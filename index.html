<!doctype html>
<html lang="de">
    <head>
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css"
            integrity="sha512-DxV+EoADOkOygM4IR9yXP8Sb2qwgidEmeqAEmDKIOfPRQZOWbXCzLC6vjbZyy0vPisbH2SyW27+ddLVCN+OMzQ=="
            crossorigin="anonymous"
            referrerpolicy="no-referrer" />
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
        <title>SmartGuide - Ihr IPhone-Begleiter</title>
        <style>
            :root {
                --bg: linear-gradient(140deg, #e9e9e9 0%, #f1f1f1 100%);
                --text: #111111;
                --primary: #2563eb;
                --primary-dark: #1d4ed8;
                --primary-light: #dbeafe;
                --success: #16a34a;
                --warning: #f59e0b;
                --danger: #dc2626;
                --border: #d1d5db;
                --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
                --font-size: 18px;
            }

            body {
                background: var(--bg);
                color: var(--text);
                font-family: system-ui, sans-serif;
                line-height: 1.6;
                max-width: 800px;
                font-size: var(--font-size);
                margin: 0 auto;
                padding: 20px;
                transition: font-size 0.3s ease;
            }

            /* Dark Mode */
            .dark-mode {
                --bg: linear-gradient(140deg, #1f2937 0%, #111827 100%);
                --text: #f9fafb;
                --border: #374151;
                --primary-light: #1e3a8a;
            }

            .dark-mode .container {
                background: rgba(31, 41, 55, 0.8);
                border-color: var(--border);
            }

            /* Font Size Controls */
            .accessibility-controls {
                position: fixed;
                top: 20px;
                right: 20px;
                z-index: 1000;
                display: flex;
                flex-direction: column;
                gap: 10px;
            }

            .control-btn {
                background: var(--primary);
                color: white;
                border: none;
                width: 50px;
                height: 50px;
                border-radius: 50%;
                font-size: 20px;
                cursor: pointer;
                box-shadow: var(--shadow);
                transition: transform 0.2s;
            }

            .control-btn:hover {
                transform: scale(1.1);
                background: var(--primary-dark);
            }

            /* Progress System */
            .progress-bar {
                width: 100%;
                height: 8px;
                background: #e5e7eb;
                border-radius: 4px;
                margin: 20px 0;
                overflow: hidden;
            }

            .progress-fill {
                height: 100%;
                background: linear-gradient(90deg, var(--primary), var(--success));
                width: 0%;
                transition: width 0.5s ease;
            }

            /* Breadcrumb Navigation */
            .breadcrumb {
                padding: 15px 0;
                color: #6b7280;
                font-size: 14px;
            }

            .breadcrumb a {
                color: var(--primary);
                text-decoration: none;
            }

            /* Difficulty Levels */
            .difficulty-selector {
                display: flex;
                gap: 10px;
                margin: 20px 0;
                flex-wrap: wrap;
            }

            .difficulty-btn {
                padding: 8px 16px;
                border: 2px solid var(--border);
                background: white;
                border-radius: 20px;
                cursor: pointer;
                transition: all 0.3s;
            }

            .difficulty-btn.active {
                background: var(--primary);
                color: white;
                border-color: var(--primary);
            }

            .difficulty-beginner {
                border-color: var(--success);
            }
            .difficulty-intermediate {
                border-color: var(--warning);
            }
            .difficulty-advanced {
                border-color: var(--danger);
            }

            /* Container improvements */
            .container {
                background: rgba(255, 255, 255, 0.9);
                border: 1px solid var(--border);
                border-radius: 12px;
                box-shadow: var(--shadow);
                padding: 20px;
                margin-bottom: 20px;
                transition: all 0.3s ease;
                position: relative;
            }

            .container:hover {
                transform: translateY(-2px);
                box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
            }

            .container-title {
                line-height: 1.2;
                cursor: pointer;
            }

            .container-title h3 {
                margin-bottom: 8px;
                font-size: 1.4em;
                display: flex;
                align-items: center;
                gap: 12px;
            }

            .container-title h5 {
                color: #6b7280;
                margin-top: 0;
                font-weight: normal;
                margin-bottom: 15px;
            }

            /* New category styles */
            .category-security {
                border-left: 4px solid var(--danger);
            }
            .category-basics {
                border-left: 4px solid var(--primary);
            }
            .category-advanced {
                border-left: 4px solid var(--warning);
            }
            .category-help {
                border-left: 4px solid var(--success);
            }

            /* Interactive elements */
            .interactive {
                background: var(--primary);
                color: white;
                padding: 12px 24px;
                border: none;
                border-radius: 8px;
                font-weight: 600;
                cursor: pointer;
                transition: all 0.2s;
                font-size: 16px;
                min-height: 48px;
            }

            .interactive:hover {
                background: var(--primary-dark);
                transform: translateY(-1px);
            }

            .interactive-special {
                background: var(--primary-light);
                color: var(--primary);
                border: 2px solid var(--primary);
                padding: 12px 24px;
                border-radius: 8px;
                font-weight: 600;
                cursor: pointer;
                transition: all 0.2s;
                min-height: 48px;
            }

            .voice-btn {
                background: var(--success);
                color: white;
                border: none;
                padding: 12px 16px;
                border-radius: 6px;
                cursor: pointer;
                margin: 5px;
                font-size: 16px;
                min-height: 48px;
            }

            .voice-btn:hover {
                background: #15803d;
            }

            /* Search improvements */
            #search {
                padding: 16px 20px;
                font-size: 18px;
                border: 2px solid var(--border);
                border-radius: 10px;
                width: 100%;
                box-sizing: border-box;
                min-height: 56px;
            }

            #search:focus {
                outline: 3px solid var(--primary);
                border-color: var(--primary);
            }

            /* Step improvements */
            .step-list {
                counter-reset: step-counter;
                padding-left: 0;
            }

            .step-list li {
                counter-increment: step-counter;
                margin-bottom: 20px;
                position: relative;
                padding-left: 50px;
                list-style: none;
            }

            .step-list li::before {
                content: counter(step-counter);
                position: absolute;
                left: 0;
                top: 0;
                background: var(--primary);
                color: white;
                width: 32px;
                height: 32px;
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                font-weight: bold;
                font-size: 16px;
            }

            /* Enhanced tip box */
            .tip-box {
                background: linear-gradient(135deg, #fef3c7, #fde68a);
                border: 1px solid #f59e0b;
                border-radius: 10px;
                padding: 16px;
                margin: 15px 0;
                position: relative;
            }

            .tip-box::before {
                content: "üí°";
                font-size: 24px;
                position: absolute;
                top: 16px;
                right: 16px;
            }

            /* Security warning box */
            .warning-box {
                background: linear-gradient(135deg, #fecaca, #fca5a5);
                border: 1px solid var(--danger);
                border-radius: 10px;
                padding: 16px;
                margin: 15px 0;
                position: relative;
            }

            .warning-box::before {
                content: "‚ö†Ô∏è";
                font-size: 24px;
                position: absolute;
                top: 16px;
                right: 16px;
            }

            /* Success box */
            .success-box {
                background: linear-gradient(135deg, #d1fae5, #a7f3d0);
                border: 1px solid var(--success);
                border-radius: 10px;
                padding: 16px;
                margin: 15px 0;
                position: relative;
            }

            .success-box::before {
                content: "‚úÖ";
                font-size: 24px;
                position: absolute;
                top: 16px;
                right: 16px;
            }

            /* Toggle improvements */
            .toggle-icon {
                background: var(--primary-light);
                color: var(--primary);
                padding: 12px 20px;
                border-radius: 8px;
                cursor: pointer;
                transition: all 0.3s ease;
                display: inline-block;
                font-weight: 600;
                border: 2px solid transparent;
                min-height: 48px;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .toggle-icon:hover {
                background: var(--primary);
                color: white;
                transform: translateY(-2px);
            }

            /* Media improvements */
            video,
            img {
                border-radius: 12px;
                box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            }

            /* Responsive improvements */
            @media (max-width: 768px) {
                .accessibility-controls {
                    position: relative;
                    top: auto;
                    right: auto;
                    flex-direction: row;
                    justify-content: center;
                    margin: 20px 0;
                }

                .difficulty-selector {
                    justify-content: center;
                }

                body {
                    padding: 15px;
                }
            }

            /* Quiz styles */
            .quiz-container {
                background: linear-gradient(135deg, #e0e7ff, #c7d2fe);
                border-radius: 12px;
                padding: 20px;
                margin: 20px 0;
            }

            .quiz-question {
                font-weight: 600;
                margin-bottom: 15px;
                font-size: 1.1em;
            }

            .quiz-options {
                display: flex;
                flex-direction: column;
                gap: 10px;
            }

            .quiz-option {
                background: white;
                border: 2px solid var(--border);
                padding: 12px;
                border-radius: 8px;
                cursor: pointer;
                transition: all 0.3s;
            }

            .quiz-option:hover {
                border-color: var(--primary);
                background: var(--primary-light);
            }

            .quiz-option.correct {
                border-color: var(--success);
                background: #d1fae5;
            }

            .quiz-option.incorrect {
                border-color: var(--danger);
                background: #fecaca;
            }
        </style>
    </head>
    <body>
        <!-- Accessibility Controls -->
        <div class="accessibility-controls">
            <button class="control-btn" onclick="increaseFontSize()" title="Schrift vergr√∂√üern">
                <i class="fas fa-plus"></i>
            </button>
            <button class="control-btn" onclick="decreaseFontSize()" title="Schrift verkleinern">
                <i class="fas fa-minus"></i>
            </button>
            <button class="control-btn" onclick="toggleDarkMode()" title="Dunkler/Heller Modus">
                <i class="fas fa-moon" id="darkModeIcon"></i>
            </button>
        </div>

        <header>
            <div style="display: flex; align-items: center; justify-content: center; gap: 15px; margin-bottom: 20px">
                <img style="max-width: 20%; max-height: 20%; filter: invert();" src="https://raw.githubusercontent.com/404-Code-Studio/SmartGuide/main/20250814_1453_SmartGuide%20Logo%20Design_simple_compose_01k2ma6t3ef74a2f6421mpkn5z.png"/>
                <div>
                    <h1 style="margin: 0; color: var(--primary)">SmartGuide</h1>
                    <p style="margin: 5px 0; color: #6b7280">Ihr freundlicher IPhone-Begleiter</p>
                </div>
            </div>

            <!-- Progress Bar -->
            <div class="progress-bar">
                <div class="progress-fill" id="progressBar"></div>
            </div>
            <p style="text-align: center; color: #6b7280; margin: 5px 0">
                Ihr Fortschritt: <span id="progressText">0%</span>
            </p>

            <!-- Breadcrumb Navigation -->
            <div class="breadcrumb" id="breadcrumb">
                <i class="fas fa-home"></i> <a href="#" onclick="goHome()">Startseite</a>
            </div>

            <!-- Difficulty Selector -->
            <div class="difficulty-selector">
                <button class="difficulty-btn difficulty-beginner active" onclick="setDifficulty('beginner')">
                    <i class="fas fa-seedling"></i> Anf√§nger
                </button>
                <button class="difficulty-btn difficulty-intermediate" onclick="setDifficulty('intermediate')">
                    <i class="fas fa-star-half-alt"></i> Fortgeschritten
                </button>
                <button class="difficulty-btn difficulty-advanced" onclick="setDifficulty('advanced')">
                    <i class="fas fa-crown"></i> Experte
                </button>
            </div>

            <!-- Search -->
            <div style="display: flex; align-items: center; gap: 15px; margin: 20px 0">
                <label style="min-width: 80px; font-weight: 600" for="search">
                    <i class="fas fa-search"></i> Suchen:
                </label>
                <input
                    type="search"
                    id="search"
                    placeholder="Was m√∂chten Sie lernen? (z.B. 'Nachrichten', 'Sicherheit')"
                    list="suchbegriffe" />
                <datalist id="suchbegriffe">
                    <option value="Nachrichten"></option>
                    <option value="Anrufe"></option>
                    <option value="Apps"></option>
                    <option value="WLAN"></option>
                    <option value="Kontakte"></option>
                    <option value="Sicherheit"></option>
                    <option value="Fotos"></option>
                    <option value="Notfall"></option>
                </datalist>
            </div>
        </header>

        <main>
            <!-- Grundlagen Section -->
            <section id="basics-section">
                <hr style="margin: 30px 0" />
                <h2 style="color: var(--primary); text-align: center">
                    <i class="fas fa-graduation-cap"></i> Grundlagen
                </h2>

                <!-- Existing containers with improvements -->
                <div class="container category-basics" data-topic="nachrichten" data-difficulty="beginner">
                    <div class="container-title" onClick="toggleContent('Text_Nachrichten', this)">
                        <h3><i class="fa-solid fa-comments"></i> Nachrichten</h3>
                        <h5>Verschicken und empfangen von E-Mails, SMS oder WhatsApp-Nachrichten</h5>
                        <div class="toggle-icon"><i class="fas fa-chevron-down"></i> Jetzt lernen</div>
                    </div>
                    <div id="Text_Nachrichten" style="display: none">
                        <hr />
                        <div style="margin: 15px 0">
                            <button class="voice-btn" onclick="readContainer('Text_Nachrichten')">
                                <i class="fas fa-volume-up"></i> Vorlesen
                            </button>
                            <button class="voice-btn" onclick="window.speechSynthesis.cancel();">
                                <i class="fas fa-stop"></i> Stoppen
                            </button>
                        </div>

                        <p><strong>Nachrichten verschicken - so einfach geht's:</strong></p>

                        <ol class="step-list">
                            <li>
                                <strong>App finden:</strong> Wischen Sie vom oberen Bildschirmrand nach unten f√ºr die
                                Suche.
                            </li>
                            <li>
                                <strong>App √∂ffnen:</strong> Tippen Sie "WhatsApp" oder "Nachrichten" ein und w√§hlen die
                                App aus.
                            </li>
                            <li>
                                <strong>Kontakt w√§hlen:</strong> Suchen Sie den gew√ºnschten Kontakt und tippen auf die
                                Unterhaltung.
                            </li>
                            <li>
                                <strong>Nachricht schreiben:</strong> Tippen Sie ins Textfeld und schreiben Ihre
                                Nachricht.
                            </li>
                            <li><strong>Senden:</strong> Tippen Sie auf den Pfeil-Button zum Versenden.</li>
                        </ol>

                        <div class="tip-box">
                            <strong>Profi-Tipp:</strong> Wenn Ihr Kontakt antwortet, wissen Sie sicher, dass die
                            Nachricht angekommen ist. Bei WhatsApp sehen Sie auch blaue H√§kchen als Best√§tigung.
                        </div>

                        <div class="quiz-container">
                            <div class="quiz-question">
                                <i class="fas fa-question-circle"></i> Quiz: Wie √∂ffnen Sie die Suchfunktion auf dem
                                iPhone?
                            </div>
                            <div class="quiz-options">
                                <div class="quiz-option" onclick="selectQuizAnswer(this, false)">
                                    Von unten nach oben wischen
                                </div>
                                <div class="quiz-option" onclick="selectQuizAnswer(this, true)">
                                    Von oben nach unten wischen
                                </div>
                                <div class="quiz-option" onclick="selectQuizAnswer(this, false)">
                                    Home-Button zweimal dr√ºcken
                                </div>
                            </div>
                        </div>

                        <button
                            class="interactive"
                            onClick="toggleContent('Text_Nachrichten', this.closest('.container').querySelector('.container-title'))">
                            <i class="fas fa-times"></i> Schlie√üen
                        </button>
                    </div>
                </div>

                <!-- More improved containers... -->
                <div class="container category-basics" data-topic="anrufe" data-difficulty="beginner">
                    <div class="container-title" onClick="toggleContent('Text_Anrufe', this)">
                        <h3><i class="fa-solid fa-phone-volume"></i> Anrufe</h3>
                        <h5>Telefonate f√ºhren und entgegennehmen</h5>
                        <div class="toggle-icon"><i class="fas fa-chevron-down"></i> Jetzt lernen</div>
                    </div>
                    <div id="Text_Anrufe" style="display: none">
                        <hr />
                        <div style="margin: 15px 0">
                            <button class="voice-btn" onclick="readContainer('Text_Anrufe')">
                                <i class="fas fa-volume-up"></i> Vorlesen
                            </button>
                            <button class="voice-btn" onclick="window.speechSynthesis.cancel();">
                                <i class="fas fa-stop"></i> Stoppen
                            </button>
                        </div>

                        <h4><i class="fas fa-phone"></i> Anrufe t√§tigen:</h4>
                        <ol class="step-list">
                            <li>√ñffnen Sie die gr√ºne "Telefon"-App</li>
                            <li>W√§hlen Sie zwischen "Kontakte" oder "Ziffernblock"</li>
                            <li>Tippen Sie auf den gr√ºnen Anruf-Button</li>
                        </ol>

                        <h4><i class="fas fa-phone-alt"></i> Anrufe annehmen:</h4>
                        <ol class="step-list">
                            <li>Bei eingehendem Anruf erscheint der Anruf-Bildschirm</li>
                            <li>Gr√ºner Button nach rechts = Annehmen</li>
                            <li>Roter Button nach links = Ablehnen</li>
                        </ol>

                        <div class="tip-box">
                            <strong>N√ºtzliche Funktionen w√§hrend des Anrufs:</strong> "Stumm" schaltet Ihr Mikrofon aus,
                            "Lautsprecher" aktiviert die Freisprechfunktion.
                        </div>

                        <button
                            class="interactive"
                            onClick="toggleContent('Text_Anrufe', this.closest('.container').querySelector('.container-title'))">
                            <i class="fas fa-times"></i> Schlie√üen
                        </button>
                    </div>
                </div>
            </section>

            <!-- New Security Section -->
            <section id="security-section">
                <hr style="margin: 30px 0" />
                <h2 style="color: var(--danger); text-align: center">
                    <i class="fas fa-shield-alt"></i> Sicherheit & Schutz
                </h2>

                <div class="container category-security" data-topic="sicherheit" data-difficulty="beginner">
                    <div class="container-title" onClick="toggleContent('Text_Sicherheit', this)">
                        <h3><i class="fa-solid fa-shield-halved"></i> Betrugsmaschen erkennen</h3>
                        <h5>Sch√ºtzen Sie sich vor Betr√ºgern am Telefon und online</h5>
                        <div class="toggle-icon"><i class="fas fa-chevron-down"></i> Wichtig zu wissen</div>
                    </div>
                    <div id="Text_Sicherheit" style="display: none">
                        <hr />
                        <div style="margin: 15px 0">
                            <button class="voice-btn" onclick="readContainer('Text_Sicherheit')">
                                <i class="fas fa-volume-up"></i> Vorlesen
                            </button>
                        </div>

                        <div class="warning-box">
                            <strong>Achtung vor diesen Betrugsmaschen:</strong>
                        </div>

                        <h4><i class="fas fa-exclamation-triangle"></i> H√§ufige Betrugsversuche:</h4>
                        <ul>
                            <li>
                                <strong>Enkeltrick:</strong> Anrufer geben sich als Verwandte aus und bitten um Geld
                            </li>
                            <li><strong>Falsche Polizisten:</strong> Behaupten, Ihr Geld sei in Gefahr</li>
                            <li><strong>Phishing-SMS:</strong> Gef√§lschte Nachrichten von Banken oder Paketdiensten</li>
                            <li><strong>Fake-Apps:</strong> Nachgemachte Banking-Apps im App Store</li>
                        </ul>

                        <h4><i class="fas fa-shield-virus"></i> So sch√ºtzen Sie sich:</h4>
                        <ol class="step-list">
                            <li><strong>Niemals pers√∂nliche Daten am Telefon preisgeben</strong></li>
                            <li>
                                <strong>Bei verd√§chtigen Anrufen auflegen</strong> und bei der echten Nummer zur√ºckrufen
                            </li>
                            <li><strong>Links in SMS nicht anklicken</strong> - immer die offizielle App √∂ffnen</li>
                            <li><strong>Apps nur aus dem offiziellen App Store</strong> herunterladen</li>
                        </ol>

                        <div class="success-box">
                            <strong>Merksatz:</strong> Seri√∂se Unternehmen und Beh√∂rden fragen niemals am Telefon oder
                            per SMS nach Passw√∂rtern, PINs oder pers√∂nlichen Daten!
                        </div>

                        <button
                            class="interactive"
                            onClick="toggleContent('Text_Sicherheit', this.closest('.container').querySelector('.container-title'))">
                            <i class="fas fa-times"></i> Schlie√üen
                        </button>
                    </div>
                </div>

                <div class="container category-security" data-topic="notfall" data-difficulty="beginner">
                    <div class="container-title" onClick="toggleContent('Text_Notfall', this)">
                        <h3><i class="fa-solid fa-ambulance"></i> Notfall-Funktionen</h3>
                        <h5>Schnell Hilfe rufen und Standort teilen</h5>
                        <div class="toggle-icon"><i class="fas fa-chevron-down"></i> Kann Leben retten</div>
                    </div>
                    <div id="Text_Notfall" style="display: none">
                        <hr />
                        <div style="margin: 15px 0">
                            <button class="voice-btn" onclick="readContainer('Text_Notfall')">
                                <i class="fas fa-volume-up"></i> Vorlesen
                            </button>
                        </div>

                        <div class="warning-box">
                            <strong>Im Notfall jede Sekunde z√§hlt!</strong> Diese Funktionen k√∂nnen Leben retten.
                        </div>

                        <h4><i class="fas fa-phone-alt"></i> Notruf absetzen:</h4>
                        <ol class="step-list">
                            <li><strong>Schnellzugriff:</strong> 5x den Ein-/Ausschalter dr√ºcken f√ºr SOS-Modus</li>
                            <li><strong>Oder klassisch:</strong> Telefon-App √∂ffnen und 112 w√§hlen</li>
                            <li><strong>Sprechen Sie deutlich:</strong> "Wo ist was passiert?"</li>
                            <li><strong>Nicht auflegen</strong> bis die Leitstelle es sagt</li>
                        </ol>

                        <h4><i class="fas fa-map-marker-alt"></i> Standort teilen:</h4>
                        <ol class="step-list">
                            <li>WhatsApp √∂ffnen und Chat w√§hlen</li>
                            <li>Auf das Plus-Symbol tippen</li>
                            <li>"Standort" ausw√§hlen</li>
                            <li>"Live-Standort teilen" f√ºr Echtzeitverfolgung</li>
                        </ol>

                        <div class="tip-box">
                            <strong>ICE-Kontakte einrichten:</strong> Gehen Sie zu Kontakte ‚Üí "Notfallpass" und f√ºgen
                            wichtige Kontakte hinzu. Diese sind auch bei gesperrtem Handy erreichbar.
                        </div>

                        <button
                            class="interactive"
                            onClick="toggleContent('Text_Notfall', this.closest('.container').querySelector('.container-title'))">
                            <i class="fas fa-times"></i> Schlie√üen
                        </button>
                    </div>
                </div>
            </section>

            <!-- New Advanced Features Section -->
            <section id="advanced-section">
                <hr style="margin: 30px 0" />
                <h2 style="color: var(--warning); text-align: center">
                    <i class="fas fa-star"></i> Erweiterte Funktionen
                </h2>

                <div class="container category-advanced" data-topic="fotos" data-difficulty="intermediate">
                    <div class="container-title" onClick="toggleContent('Text_Fotos', this)">
                        <h3><i class="fa-solid fa-camera"></i> Fotos & Videos</h3>
                        <h5>Aufnehmen, bearbeiten und teilen</h5>
                        <div class="toggle-icon">
                            <i class="fas fa-chevron-down"></i> Entdecken Sie die M√∂glichkeiten
                        </div>
                    </div>
                    <div id="Text_Fotos" style="display: none">
                        <hr />
                        <div style="margin: 15px 0">
                            <button class="voice-btn" onclick="readContainer('Text_Fotos')">
                                <i class="fas fa-volume-up"></i> Vorlesen
                            </button>
                        </div>

                        <h4><i class="fas fa-camera"></i> Fotos aufnehmen:</h4>
                        <ol class="step-list">
                            <li>Kamera-App √∂ffnen (meist auf dem Homebildschirm)</li>
                            <li>Motiv im Sucher zentrieren</li>
                            <li>Auf den wei√üen Ausl√∂ser-Kreis tippen</li>
                            <li>Foto wird automatisch gespeichert</li>
                        </ol>

                        <h4><i class="fas fa-share"></i> Fotos teilen:</h4>
                        <ol class="step-list">
                            <li>Fotos-App √∂ffnen</li>
                            <li>Gew√ºnschtes Foto antippen</li>
                            <li>Auf das Teilen-Symbol tippen (Quadrat mit Pfeil)</li>
                            <li>WhatsApp, E-Mail oder andere App w√§hlen</li>
                        </ol>

                        <div class="tip-box">
                            <strong>Foto-Tipp:</strong> Halten Sie das Handy ruhig und achten Sie auf gutes Licht. Bei
                            schlechten Lichtverh√§ltnissen tippen Sie auf das gelbe Blitz-Symbol.
                        </div>

                        <button
                            class="interactive"
                            onClick="toggleContent('Text_Fotos', this.closest('.container').querySelector('.container-title'))">
                            <i class="fas fa-times"></i> Schlie√üen
                        </button>
                    </div>
                </div>

                <div class="container category-advanced" data-topic="navigation" data-difficulty="intermediate">
                    <div class="container-title" onClick="toggleContent('Text_Navigation', this)">
                        <h3><i class="fa-solid fa-map"></i> Navigation & Karten</h3>
                        <h5>Mit Google Maps ans Ziel finden</h5>
                        <div class="toggle-icon"><i class="fas fa-chevron-down"></i> Nie wieder verfahren</div>
                    </div>
                    <div id="Text_Navigation" style="display: none">
                        <hr />
                        <div style="margin: 15px 0">
                            <button class="voice-btn" onclick="readContainer('Text_Navigation')">
                                <i class="fas fa-volume-up"></i> Vorlesen
                            </button>
                        </div>

                        <h4><i class="fas fa-route"></i> Route planen:</h4>
                        <ol class="step-list">
                            <li>"Karten" oder "Google Maps" App √∂ffnen</li>
                            <li>Zieladresse in die Suchleiste eingeben</li>
                            <li>Auf "Route" tippen</li>
                            <li>Verkehrsmittel w√§hlen (Auto, √ñPNV, zu Fu√ü)</li>
                            <li>"Los" antippen f√ºr Sprachnavigation</li>
                        </ol>

                        <h4><i class="fas fa-bus"></i> √ñffentliche Verkehrsmittel:</h4>
                        <ol class="step-list">
                            <li>In Google Maps das Bus-Symbol w√§hlen</li>
                            <li>Abfahrtszeiten werden automatisch angezeigt</li>
                            <li>Verschiedene Verbindungen vergleichen</li>
                            <li>Ticket-Apps werden oft vorgeschlagen</li>
                        </ol>

                        <div class="success-box">
                            <strong>Profi-Tipp:</strong> Aktivieren Sie die Standortfreigabe, damit die App Ihren
                            aktuellen Standort als Startpunkt verwendet.
                        </div>

                        <button
                            class="interactive"
                            onClick="toggleContent('Text_Navigation', this.closest('.container').querySelector('.container-title'))">
                            <i class="fas fa-times"></i> Schlie√üen
                        </button>
                    </div>
                </div>
            </section>

            <!-- Help & Support Section -->
            <section id="help-section">
                <hr style="margin: 30px 0" />
                <h2 style="color: var(--success); text-align: center">
                    <i class="fas fa-life-ring"></i> Hilfe & Unterst√ºtzung
                </h2>

                <div class="container category-help" data-topic="hilfe" data-difficulty="beginner">
                    <div class="container-title" onClick="toggleContent('Text_FAQ', this)">
                        <h3><i class="fa-solid fa-question-circle"></i> H√§ufige Fragen</h3>
                        <h5>Antworten auf die wichtigsten IPhone-Fragen</h5>
                        <div class="toggle-icon"><i class="fas fa-chevron-down"></i> Hier finden Sie Antworten</div>
                    </div>
                    <div id="Text_FAQ" style="display: none">
                        <hr />

                        <div style="margin: 20px 0">
                            <h4><i class="fas fa-battery-quarter"></i> "Mein Akku ist schnell leer - was tun?"</h4>
                            <p>
                                <strong>Antwort:</strong> Verringern Sie die Bildschirmhelligkeit, schlie√üen Sie
                                ungenutzte Apps und aktivieren Sie den Energiesparmodus in den Einstellungen.
                            </p>
                        </div>

                        <div style="margin: 20px 0">
                            <h4><i class="fas fa-wifi"></i> "WLAN verbindet nicht - was ist falsch?"</h4>
                            <p>
                                <strong>Antwort:</strong> Pr√ºfen Sie das Passwort, schalten Sie WLAN aus und wieder ein,
                                oder starten Sie das Handy neu.
                            </p>
                        </div>

                        <div style="margin: 20px 0">
                            <h4><i class="fas fa-memory"></i> "Speicher voll - was kann ich l√∂schen?"</h4>
                            <p>
                                <strong>Antwort:</strong> L√∂schen Sie alte Fotos/Videos, leeren Sie den Papierkorb und
                                entfernen Sie ungenutzte Apps.
                            </p>
                        </div>

                        <div style="margin: 20px 0">
                            <h4><i class="fas fa-mobile-alt"></i> "Display reagiert nicht richtig?"</h4>
                            <p>
                                <strong>Antwort:</strong> Reinigen Sie das Display vorsichtig mit einem weichen Tuch und
                                starten Sie das Ger√§t neu.
                            </p>
                        </div>

                        <button
                            class="interactive"
                            onClick="toggleContent('Text_FAQ', this.closest('.container').querySelector('.container-title'))">
                            <i class="fas fa-times"></i> Schlie√üen
                        </button>
                    </div>
                </div>

                <div class="container category-help" data-topic="kontakt" data-difficulty="beginner">
                    <div class="container-title" onClick="toggleContent('Text_Kontakt', this)">
                        <h3><i class="fa-solid fa-headset"></i> Weitere Hilfe</h3>
                        <h5>Wenn Sie nicht weiterkommen</h5>
                        <div class="toggle-icon"><i class="fas fa-chevron-down"></i> Unterst√ºtzung finden</div>
                    </div>
                    <div id="Text_Kontakt" style="display: none">
                        <hr />

                        <h4><i class="fas fa-users"></i> Wo Sie Hilfe bekommen:</h4>
                        <ul style="list-style: none; padding-left: 0">
                            <li style="margin: 15px 0; padding: 15px; background: #f8fafc; border-radius: 8px">
                                <strong><i class="fas fa-family"></i> Familie & Freunde:</strong><br />
                                Bitten Sie Ihre Kinder oder Enkel um Hilfe - sie erkl√§ren gerne!
                            </li>
                            <li style="margin: 15px 0; padding: 15px; background: #f8fafc; border-radius: 8px">
                                <strong><i class="fas fa-store"></i> Handy-Gesch√§fte:</strong><br />
                                Viele Anbieter bieten kostenlose Einf√ºhrungen f√ºr Senioren
                            </li>
                            <li style="margin: 15px 0; padding: 15px; background: #f8fafc; border-radius: 8px">
                                <strong><i class="fas fa-graduation-cap"></i> Volkshochschule:</strong><br />
                                IPhone-Kurse speziell f√ºr Senioren
                            </li>
                            <li style="margin: 15px 0; padding: 15px; background: #f8fafc; border-radius: 8px">
                                <strong><i class="fas fa-phone"></i> Herstellersupport:</strong><br />
                                Apple: 0800 6645 451 (kostenlos)<br />
                                Samsung: 06196 77 555 77
                            </li>
                        </ul>

                        <div class="tip-box">
                            <strong>Unser Tipp:</strong> Scheuen Sie sich nicht, um Hilfe zu bitten! Jeder hat einmal
                            angefangen, und die meisten Menschen helfen gerne.
                        </div>

                        <button
                            class="interactive"
                            onClick="toggleContent('Text_Kontakt', this.closest('.container').querySelector('.container-title'))">
                            <i class="fas fa-times"></i> Schlie√üen
                        </button>
                    </div>
                </div>
            </section>

            <!-- Achievement System -->
            <section id="achievements" style="margin-top: 40px">
                <hr />
                <h3 style="text-align: center; color: var(--primary)"><i class="fas fa-trophy"></i> Ihre Erfolge</h3>
                <div
                    id="achievementContainer"
                    style="display: flex; flex-wrap: wrap; justify-content: center; gap: 15px; margin: 20px 0">
                    <!-- Achievements will be added by JavaScript -->
                </div>
            </section>
        </main>

        <footer
            style="
                margin-top: 40px;
                text-align: center;
                color: #6b7280;
                border-top: 1px solid var(--border);
                padding-top: 20px;
            ">
            <p>
                <i class="fas fa-heart" style="color: #ef4444"></i> Erstellt mit Liebe f√ºr alle, die ihr IPhone besser
                verstehen m√∂chten
            </p>
            <p style="font-size: 14px">Erstellt von <a href="https://github.com/orgs/404-Code-Studio/repositories"><i class="fa-brands fa-github"></i> 404-Code Studios</a><br>
                Version 2.1 - Fehler behoben</p>
            <p style="font-size: 10px">Wir stehen in keiner Partnerschaft oder Verbindung zu <i class="fa-brands fa-apple"></i> Apple Inc. <wbr/>oder Samsung Electronics Co., Ltd</p>
        </footer>

        <script>
            // Enhanced JavaScript functionality
            let currentFontSize = 18;
            let isDarkMode = false;
            let currentDifficulty = "beginner";
            let completedTopics = JSON.parse(localStorage.getItem("completedTopics") || "[]");
            let achievements = JSON.parse(localStorage.getItem("achievements") || "[]");

            // Accessibility Functions
            function increaseFontSize() {
                if (currentFontSize < 24) {
                    currentFontSize += 2;
                    document.documentElement.style.setProperty("--font-size", currentFontSize + "px");
                    showNotification("Schrift vergr√∂√üert", "success");
                }
            }

            function decreaseFontSize() {
                if (currentFontSize > 14) {
                    currentFontSize -= 2;
                    document.documentElement.style.setProperty("--font-size", currentFontSize + "px");
                    showNotification("Schrift verkleinert", "success");
                }
            }

            function toggleDarkMode() {
                isDarkMode = !isDarkMode;
                document.body.classList.toggle("dark-mode");
                const icon = document.getElementById("darkModeIcon");
                icon.className = isDarkMode ? "fas fa-sun" : "fas fa-moon";
                showNotification(isDarkMode ? "Dunkler Modus aktiviert" : "Heller Modus aktiviert", "success");
            }

            // Difficulty System
            function setDifficulty(level) {
                currentDifficulty = level;
                document.querySelectorAll(".difficulty-btn").forEach((btn) => btn.classList.remove("active"));
                event.target.classList.add("active");

                // Show/hide content based on difficulty
                filterContentByDifficulty();
                showNotification(`Schwierigkeitsgrad: ${getDifficultyName(level)}`, "info");
            }

            function getDifficultyName(level) {
                const names = { beginner: "Anf√§nger", intermediate: "Fortgeschritten", advanced: "Experte" };
                return names[level] || "Anf√§nger";
            }

            function filterContentByDifficulty() {
                const containers = document.querySelectorAll(".container[data-difficulty]");
                containers.forEach((container) => {
                    const difficulty = container.dataset.difficulty;
                    const shouldShow =
                        (currentDifficulty === "beginner" && difficulty === "beginner") ||
                        (currentDifficulty === "intermediate" && ["beginner", "intermediate"].includes(difficulty)) ||
                        currentDifficulty === "advanced";

                    container.style.display = shouldShow ? "block" : "none";
                });
            }

            // Enhanced Toggle Function
            function toggleContent(contentId, titleElement) {
                const content = document.getElementById(contentId);
                const icon = titleElement.querySelector(".toggle-icon i");
                const container = titleElement.closest(".container");

                if (content.style.display === "block") {
                    content.style.display = "none";
                    icon.className = "fas fa-chevron-down";
                    titleElement.querySelector(".toggle-icon").innerHTML =
                        '<i class="fas fa-chevron-down"></i> Jetzt lernen';
                    container.classList.remove("expanded");
                } else {
                    content.style.display = "block";
                    icon.className = "fas fa-chevron-up";
                    titleElement.querySelector(".toggle-icon").innerHTML =
                        '<i class="fas fa-chevron-up"></i> Zuklappen';
                    container.classList.add("expanded");

                    // Mark as completed
                    const topic = container.dataset.topic;
                    markTopicCompleted(topic);
                }

                updateBreadcrumb(titleElement.querySelector("h3").textContent);
            }

            // Progress System
            function markTopicCompleted(topic) {
                if (!completedTopics.includes(topic)) {
                    completedTopics.push(topic);
                    localStorage.setItem("completedTopics", JSON.stringify(completedTopics));
                    updateProgress();
                    checkAchievements();
                    showNotification("Thema abgeschlossen! üéâ", "success");
                }
            }

            function updateProgress() {
                const totalTopics = document.querySelectorAll("[data-topic]").length;
                const completedCount = completedTopics.length;
                const percentage = Math.round((completedCount / totalTopics) * 100);

                document.getElementById("progressBar").style.width = percentage + "%";
                document.getElementById("progressText").textContent = percentage + "%";
            }

            // Achievement System
            const achievementDefinitions = [
                {
                    id: "first_topic",
                    name: "Erste Schritte",
                    description: "Erstes Thema abgeschlossen",
                    icon: "fas fa-baby"
                },
                {
                    id: "security_aware",
                    name: "Sicherheits-Experte",
                    description: "Sicherheitsthema abgeschlossen",
                    icon: "fas fa-shield-alt"
                },
                {
                    id: "communicator",
                    name: "Kommunikator",
                    description: "Nachrichten und Anrufe gemeistert",
                    icon: "fas fa-comments"
                },
                {
                    id: "half_way",
                    name: "Halbzeit",
                    description: "50% aller Themen abgeschlossen",
                    icon: "fas fa-star-half-alt"
                },
                { id: "master", name: "IPhone-Meister", description: "Alle Themen abgeschlossen", icon: "fas fa-crown" }
            ];

            function checkAchievements() {
                const newAchievements = [];

                // First topic
                if (completedTopics.length >= 1 && !achievements.includes("first_topic")) {
                    newAchievements.push("first_topic");
                }

                // Security expert
                if (completedTopics.includes("sicherheit") && !achievements.includes("security_aware")) {
                    newAchievements.push("security_aware");
                }

                // Communicator
                if (
                    completedTopics.includes("nachrichten") &&
                    completedTopics.includes("anrufe") &&
                    !achievements.includes("communicator")
                ) {
                    newAchievements.push("communicator");
                }

                // Half way
                const totalTopics = document.querySelectorAll("[data-topic]").length;
                if (completedTopics.length >= totalTopics / 2 && !achievements.includes("half_way")) {
                    newAchievements.push("half_way");
                }

                // Master
                if (completedTopics.length >= totalTopics && !achievements.includes("master")) {
                    newAchievements.push("master");
                }

                // Add new achievements
                newAchievements.forEach((achievementId) => {
                    achievements.push(achievementId);
                    showAchievement(achievementId);
                });

                if (newAchievements.length > 0) {
                    localStorage.setItem("achievements", JSON.stringify(achievements));
                    renderAchievements();
                }
            }

            function showAchievement(achievementId) {
                const achievement = achievementDefinitions.find((a) => a.id === achievementId);
                if (achievement) {
                    showNotification(`üèÜ Erfolg freigeschaltet: ${achievement.name}!`, "success");
                }
            }

            function renderAchievements() {
                const container = document.getElementById("achievementContainer");
                container.innerHTML = "";

                achievementDefinitions.forEach((achievement) => {
                    const earned = achievements.includes(achievement.id);
                    const div = document.createElement("div");
                    div.style.cssText = `
                        padding: 15px;
                        border-radius: 10px;
                        text-align: center;
                        min-width: 150px;
                        ${
                            earned
                                ? "background: linear-gradient(135deg, #fbbf24, #f59e0b); color: white;"
                                : "background: #f3f4f6; color: #9ca3af;"
                        }
                        transition: transform 0.3s;
                    `;
                    div.innerHTML = `
                        <i class="${achievement.icon}" style="font-size: 24px; margin-bottom: 8px;"></i><br>
                        <strong>${achievement.name}</strong><br>
                        <small>${achievement.description}</small>
                    `;
                    if (earned) {
                        div.addEventListener("mouseenter", () => (div.style.transform = "scale(1.05)"));
                        div.addEventListener("mouseleave", () => (div.style.transform = "scale(1)"));
                    }
                    container.appendChild(div);
                });
            }

            // Breadcrumb Navigation
            function updateBreadcrumb(currentPage) {
                const breadcrumb = document.getElementById("breadcrumb");
                breadcrumb.innerHTML = `
                    <i class="fas fa-home"></i> <a href="#" onclick="goHome()">Startseite</a> 
                    <i class="fas fa-chevron-right" style="margin: 0 8px;"></i> 
                    <span>${currentPage}</span>
                `;
            }

            function goHome() {
                document.getElementById("breadcrumb").innerHTML =
                    '<i class="fas fa-home"></i> <a href="#" onclick="goHome()">Startseite</a>';
                // Close all open containers
                document.querySelectorAll('[id^="Text_"]').forEach((el) => {
                    el.style.display = "none";
                });
                // Reset all toggle icons
                document.querySelectorAll(".toggle-icon").forEach((icon) => {
                    icon.innerHTML = '<i class="fas fa-chevron-down"></i> Jetzt lernen';
                });
            }

            // Enhanced Search
            const searchInput = document.getElementById("search");
            searchInput.addEventListener("input", () => {
                const query = searchInput.value.toLowerCase();
                const containers = document.querySelectorAll(".container");

                containers.forEach((container) => {
                    const text = container.textContent.toLowerCase();
                    const isMatch = text.includes(query) && query !== "";

                    if (isMatch) {
                        container.style.display = "block";
                        container.classList.add("highlight");
                    } else if (query === "") {
                        container.classList.remove("highlight");
                        filterContentByDifficulty();
                    } else {
                        container.classList.remove("highlight");
                    }
                });
            });

            // Enhanced Text-to-Speech
            function readContainer(containerID) {
                if ("speechSynthesis" in window) {
                    speechSynthesis.cancel();
                    const container = document.getElementById(containerID);
                    let text = container.textContent
                        .replace(/\s+/g, " ")
                        .replace(/([.!?])\s*/g, "$1 ")
                        .trim();

                    const utterance = new SpeechSynthesisUtterance(text);

                    // Wait for voices to load
                    const setVoice = () => {
                        const voices = speechSynthesis.getVoices();
                        const germanVoice = voices.find(
                            (voice) => voice.lang.includes("de") || voice.name.includes("German")
                        );
                        if (germanVoice) {
                            utterance.voice = germanVoice;
                        }
                        utterance.lang = "de-DE";
                    };

                    if (speechSynthesis.getVoices().length > 0) {
                        setVoice();
                    } else {
                        speechSynthesis.addEventListener("voiceschanged", setVoice);
                    }

                    utterance.rate = 0.8;
                    utterance.pitch = 1.0;
                    utterance.volume = 1.0;

                    speechSynthesis.speak(utterance);
                    showNotification("Vorlesen gestartet", "info");
                } else {
                    showNotification("Vorlese-Funktion wird nicht unterst√ºtzt", "error");
                }
            }

            // Quiz System
            function selectQuizAnswer(element, isCorrect) {
                // Remove previous selections
                element.parentElement.querySelectorAll(".quiz-option").forEach((opt) => {
                    opt.classList.remove("correct", "incorrect");
                });

                // Mark selected answer
                element.classList.add(isCorrect ? "correct" : "incorrect");

                // Show all correct answers
                if (!isCorrect) {
                    element.parentElement.querySelectorAll(".quiz-option").forEach((opt) => {
                        if (opt !== element) {
                            // This would need to be enhanced to mark the actually correct answer
                        }
                    });
                }

                setTimeout(() => {
                    showNotification(
                        isCorrect ? "Richtig! üéâ" : "Nicht ganz richtig, aber gut versucht! üí™",
                        isCorrect ? "success" : "warning"
                    );
                }, 500);
            }

            // Notification System
            function showNotification(message, type = "info") {
                const notification = document.createElement("div");
                const colors = {
                    success: "background: #10b981; color: white;",
                    error: "background: #ef4444; color: white;",
                    warning: "background: #f59e0b; color: white;",
                    info: "background: #3b82f6; color: white;"
                };

                notification.style.cssText = `
                    position: fixed;
                    top: 20px;
                    left: 50%;
                    transform: translateX(-50%);
                    z-index: 10000;
                    padding: 12px 24px;
                    border-radius: 8px;
                    font-weight: 600;
                    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
                    ${colors[type]}
                    animation: slideInDown 0.3s ease-out;
                `;
                notification.textContent = message;

                document.body.appendChild(notification);
                setTimeout(() => {
                    notification.style.animation = "slideOutUp 0.3s ease-out";
                    setTimeout(() => notification.remove(), 300);
                }, 3000);
            }

            // Add CSS animations
            const style = document.createElement("style");
            style.textContent = `
                @keyframes slideInDown {
                    from { transform: translate(-50%, -100%); opacity: 0; }
                    to { transform: translate(-50%, 0); opacity: 1; }
                }
                @keyframes slideOutUp {
                    from { transform: translate(-50%, 0); opacity: 1; }
                    to { transform: translate(-50%, -100%); opacity: 0; }
                }
                .highlight {
                    background: linear-gradient(135deg, var(--primary-light), #bfdbfe) !important;
                    border-color: var(--primary) !important;
                    transform: scale(1.02);
                }
            `;
            document.head.appendChild(style);

            // Initialize app
            document.addEventListener("DOMContentLoaded", () => {
                updateProgress();
                renderAchievements();
                filterContentByDifficulty();
                showNotification("Willkommen bei SmartGuide! üëã", "success");
            });

            let keysPressed = {};

            document.addEventListener("keydown", (e) => {
                keysPressed[e.key.toLowerCase()] = true;

                if (keysPressed["shift"] && keysPressed["k"] && keysPressed["w"]) {
                    toggleFullScreen();
                }
            });

            document.addEventListener("keyup", (e) => {
                delete keysPressed[e.key.toLowerCase()];
            });

            function toggleFullScreen() {
                if (!document.fullscreenElement) {
                    document.documentElement.requestFullscreen().catch((err) => {
                        console.error(`Fehler beim Umschalten auf Vollbild: ${err.message}`);
                    });
                } else {
                    document.exitFullscreen();
                }
            }
        </script>
    </body>
</html>
