<!doctype html>
<html lang="de">
    <head>
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css"
            integrity="sha512-DxV+EoADOkOygM4IR9yXP8Sb2qwgidEmeqAEmDKIOfPRQZOWbXCzLC6vjbZyy0vPisbH2SyW27+ddLVCN+OMzQ=="
            crossorigin="anonymous"
            referrerpolicy="no-referrer" />
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
        <title>SmartSenior App</title>
        <style>
            :root {
                --bg: #ffffff;
                --text: #111111;
                --primary: #00b7c2;
                --primary-dark: #0096a0;
                --primary-light: #e6f8f9;
                --success: #16a34a;
                --warning: #f59e0b;
                --danger: #dc2626;
            }

            body {
                background: var(--bg);
                color: var(--text);
                font-family: system-ui, sans-serif;
                line-height: 1.6;
                max-width: 600px;
                font-size: 18px;
                margin: 0 auto;
                padding: 20px;
            }

            @media (max-width: 768px) {
                .container {
                    padding: 12px;
                }

                .right {
                    right: 15px;
                }
            }

            .interactive {
                background: var(--primary);
                color: white;
                padding: 0.6rem 1.2rem;
                border: none;
                border-radius: 6px;
                font-weight: 600;
                cursor: pointer;
                transition: background 0.2s;
            }

            .interactive-special {
                background: var(--primary-light);
                color: var(--primary);
                border: 2px solid var(--primary);
                padding: 0.6rem 1.2rem;
                border-radius: 6px;
                font-weight: 600;
                cursor: pointer;
                transition: all 0.2s;
            }

            .interactive:hover,
            .interactive-special:hover {
                background: var(--primary-dark);
            }

            .highlight {
                background: var(--primary-light);
                padding: 1rem;
                border-radius: 8px;
            }

            .container {
                border: 1px solid #ddd; /* Weicher statt harter schwarzer Rahmen */
                border-radius: 8px; /* Weniger Rundung */
                box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1); /* Subtiler Schatten statt inset */
                padding: 15px;
                width: 90%; /* Vollbreite statt 90% */
                margin-bottom: 15px; /* Abstand zwischen Containern */
            }

            .container-title {
                line-height: 1;
            }

            .container-title h3 {
                margin-bottom: 4px;
                font-size: 1.3em;
            }

            .container-title h5 {
                color: #666;
                margin-top: 0;
                font-weight: normal;
            }

            .toggle-icon {
                cursor: pointer;
                transition: all 0.3s ease;
                color: var(--primary);
                font-size: 16px;
                text-decoration: underline;
                padding: 8px 0;
                display: inline-block;
            }

            .toggle-icon:hover {
                color: var(--primary-dark);
                background: var(--primary-light);
                padding: 8px 12px;
                border-radius: 4px;
            }

            .toggle-icon.rotated {
                transform: rotate(3deg);
            }

            .right {
                position: absolute;
                right: 10%;
            }

            #search {
                padding: 12px 16px;
                font-size: 16px;
                border: 2px solid #ddd;
                border-radius: 6px;
                width: 100%;
                box-sizing: border-box;
            }

            #search:focus {
                outline: 3px solid var(--primary);
                border-color: var(--primary);
            }

            .interactive:focus,
            .interactive-special:focus,
            .container-title:focus {
                outline: 3px solid var(--primary);
                outline-offset: 2px;
            }

            .voice-btn {
                background: var(--success);
                color: white;
                border: none;
                padding: 8px 12px;
                border-radius: 4px;
                cursor: pointer;
                margin-left: 10px;
                font-size: 16px;
            }

            .voice-btn:hover {
                background: #15803d;
            }
        </style>
    </head>
    <body>
        <header style="line-height: 1; line-height: 1">
            <h1>SmartSenior</h1>
            <p>
                Eine App umzuverstehen wie ein Smartphone funktioniert.<br />
                Auf dem Smartphone, f端r das Smartphone.
            </p>
            <hr />
            <div style="display: flex; align-items: center; justify-content: center; gap: 10px; width: 100%">
                <label style="flex: 0 0 10%" for="search">Suchen</label>
                <input
                    style="flex: 1"
                    type="search"
                    id="search"
                    class="interactive"
                    placeholder="Zum suchen hier tippen..." />
            </div>

            <br />
        </header>
        <main>
            <div DevComment="Simples">
                <hr />
                <h2>Einfach</h2>
                <div class="container">
                    <div class="container-title" onClick="ToggleText('Text_Nachrichten')">
                        <h3>Nachrichten</h3>
                        <h5>Verschicken und Empfangen</h5>
                        <a class="toggle-icon" role="button" tabindex="0" aria-label="Nachrichten-Details anzeigen">
                            Tippen zum Durchlesen
                        </a>
                    </div>
                    <div id="Text_Nachrichten" style="display: none">
                        <hr />
                        <button
                            class="voice-btn"
                            onclick="readContainer('Text_Nachrichten')"
                            aria-label="Container vorlesen">
                            Vorlesen lassen
                        </button>
                        <p>Text</p>
                    </div>
                </div>

                <div class="container">
                    <div class="container-title" onClick="ToggleText('Text_Anrufe')">
                        <h3>Anrufe</h3>
                        <h5>Beginnen und verwalten</h5>
                        <a class="toggle-icon" role="button" tabindex="0" aria-label="Nachrichten-Details anzeigen">
                            Tippen zum Durchlesen
                        </a>
                    </div>
                    <div id="Text_Anrufe" style="display: none">
                        <hr />
                        <button
                            class="voice-btn"
                            onclick="readContainer('Text_Anrufe')"
                            aria-label="Container vorlesen">
                            Vorlesen lassen
                        </button>
                        <p>Text</p>
                    </div>
                </div>
            </div>
            <div DevComment="erweitertes">
                <hr />
                <h2>Schwieriger</h2>

                <div class="container">
                    <div class="container-title" onClick="ToggleText('Text_usw')">
                        <h3>usw</h3>
                        <h5>Beginnen und verwalten</h5>
                        <a class="toggle-icon" role="button" tabindex="0" aria-label="Nachrichten-Details anzeigen">
                            Tippen zum Durchlesen
                        </a>
                    </div>
                    <div id="Text_usw" style="display: none">
                        <hr />
                        <button class="voice-btn" onclick="readContainer('Text_usw')" aria-label="Container vorlesen">
                            Vorlesen lassen
                        </button>
                        <p>Text</p>
                    </div>
                </div>
            </div>
        </main>
        <script>
            const searchInput = document.getElementById("search");
            const containerTitles = document.querySelectorAll(".container-title");

            searchInput.addEventListener("input", () => {
                const query = searchInput.value.toLowerCase();

                containerTitles.forEach((el) => {
                    // Textinhalt des Elements in Kleinbuchstaben
                    const text = el.textContent.toLowerCase();

                    // Treffer pr端fen und ggf. hervorheben
                    if (text.includes(query) && query !== "") {
                        el.classList.add("highlight");
                    } else {
                        el.classList.remove("highlight");
                    }
                });
            });

            function ToggleText(ID) {
                const element = document.getElementById(ID);
                const container = event.target.closest(".container");
                const icon = container.querySelector(".toggle-icon");

                if (element.style.display === "block") {
                    element.style.display = "none";
                    icon.classList.remove("rotated");
                    container.classList.remove("expanded");
                    icon.textContent = "Tippen zum Durchlesen";
                } else {
                    element.style.display = "block";
                    icon.classList.add("rotated");
                    container.classList.add("expanded");
                    icon.textContent = "Zuklappen";
                }
            }

            function readContainer(containerID) {
                if ("speechSynthesis" in window) {
                    speechSynthesis.cancel();

                    const container = document.getElementById(containerID);
                    const text = container.textContent.trim();

                    const utterance = new SpeechSynthesisUtterance(text);

                    // Deutsche Stimme falls verf端gbar
                    const voices = speechSynthesis.getVoices();
                    const germanVoice = voices.find((voice) => voice.lang.includes("de"));
                    if (germanVoice) {
                        utterance.voice = germanVoice;
                    }

                    utterance.rate = 0.8;
                    utterance.pitch = 1;
                    utterance.volume = 1;

                    speechSynthesis.speak(utterance);
                } else {
                    alert("Ihr Smartphone unters端tzt nicht die Vorlese funktion.");
                }
            }
        </script>
    </body>
</html>
